SET ANSI_NULLS              ON;
SET ANSI_PADDING            ON;
SET ANSI_WARNINGS           ON;
SET ANSI_NULL_DFLT_ON       ON;
SET CONCAT_NULL_YIELDS_NULL ON;
SET QUOTED_IDENTIFIER       ON;
go

-- Tables
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dbo' AND TABLE_NAME='Request' AND TABLE_TYPE='BASE TABLE')
    DROP TABLE dbo.Request;
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dbo' AND TABLE_NAME='Response' AND TABLE_TYPE='BASE TABLE')
    DROP TABLE dbo.Response;
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dbo' AND TABLE_NAME='Error' AND TABLE_TYPE='BASE TABLE')
    DROP TABLE dbo.Error;
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dbo' AND TABLE_NAME='CallExtendedEdgeList' AND TABLE_TYPE='BASE TABLE')
    DROP TABLE dbo.CallExtendedEdgeList;
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dbo' AND TABLE_NAME='CallExtendedEdgeList_STAGE' AND TABLE_TYPE='BASE TABLE')
    DROP TABLE dbo.CallExtendedEdgeList_STAGE;
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dbo' AND TABLE_NAME='CallProbabilityEdgeList' AND TABLE_TYPE='BASE TABLE')
    DROP TABLE dbo.CallProbabilityEdgeList;
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dbo' AND TABLE_NAME='CallProbabilityEdgeList_STAGE' AND TABLE_TYPE='BASE TABLE')
    DROP TABLE dbo.CallProbabilityEdgeList_STAGE;
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dbo' AND TABLE_NAME='FFT' AND TABLE_TYPE='BASE TABLE')
    DROP TABLE dbo.FFT;
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dbo' AND TABLE_NAME='FFT_STAGE' AND TABLE_TYPE='BASE TABLE')
    DROP TABLE dbo.FFT_STAGE;
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dbo' AND TABLE_NAME='Date' AND TABLE_TYPE='BASE TABLE')
    DROP TABLE dbo.Date;
IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='dbo' AND TABLE_NAME='GeoLite2-City-Blocks-IPv4' AND TABLE_TYPE='BASE TABLE')
    DROP TABLE dbo.[GeoLite2-City-Blocks-IPv4];

-- Views
IF object_id(N'dbo.RequestResponse', 'V') IS NOT NULL
    DROP VIEW dbo.RequestResponse;
IF object_id(N'dbo.APIMErrorDetail', 'V') IS NOT NULL
    DROP VIEW dbo.APIMErrorDetail;
IF object_id(N'dbo.RequestSummary', 'V') IS NOT NULL
    DROP VIEW dbo.RequestSummary;
IF object_id(N'dbo.vw_date', 'V') IS NOT NULL
    DROP VIEW dbo.vw_date;
IF object_id(N'dbo.ApiSummary', 'V') IS NOT NULL
    DROP VIEW dbo.ApiSummary;
IF object_id(N'dbo.OperationSummary', 'V') IS NOT NULL
    DROP VIEW dbo.OperationSummary;
IF object_id(N'dbo.ProductSummary', 'V') IS NOT NULL
    DROP VIEW dbo.ProductSummary;
IF object_id(N'dbo.SubscriptionSummary', 'V') IS NOT NULL
    DROP VIEW dbo.SubscriptionSummary;
IF object_id(N'dbo.AllRequestData', 'V') IS NOT NULL
    DROP VIEW AllRequestData;