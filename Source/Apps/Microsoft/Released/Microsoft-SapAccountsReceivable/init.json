{
    "MSI": {
        "Guid": "2F142293-C7B5-4C57-8FFE-75F636688C9C"
    },

    "Install": {
        "Actions": [
            {
                "name": "Microsoft-DeploySQLScripts",
                "displayname": "Deploy DB scripts",
                "SqlServerIndex": "0",
                "SqlScriptsFolder": "Service/Database/NoETL",
                "UseImpersonation": true
            },
            {
                "name": "Microsoft-AddLogonAsBatchPermission",
                "displayname": "Grant permission for logging as a batch job"
            },
            {
                "name": "Microsoft-CreateTask",
                "displayname": "Schedule tasks"
            },
            {
                "name": "Microsoft-RunTask",
                "displayname": "Run tasks"
            },
            {
                "name": "Microsoft-GetDataPullStatus",
                "displayname": "Waiting for data to come in",
                "FinishedActionName": "Microsoft-GetTaskStatus",
                "IsWaiting": true,
                "SqlServerIndex": 0,
                "TargetSchema": "sap",
                "UseImpersonation": true
            }
        ],
        "Pages": [
            {
                "architectureDiagram": "dist/Apps/Microsoft/Released/Microsoft-SapAccountsReceivable/Web/Images/sap-accounts-receivable.png",
                "displayname": "Getting Started",
                "isDownload": "$(!this.MS.HttpService.isOnPremise)",
                "list1": [
                    "Read access to the SAP Database",
                    "Azure Subscription (to use Azure SQL)",
                    "Power BI Pro (to share the template with your organization)",
                    "Power BI Desktop (latest version)"
                ],
                "list2": [
                    "Scalable and extensible solution with minimum set up and maintenance considerations",
                    "Data pulled daily from SAP & stored in a database optimized for reporting",
                    "Import data into powerful Power BI reports"
                ],
                "name": "$SiteCommon$/pagesgallery/getting-started.html",
                "subtitle": "Welcome to the public preview of the Accounts Receivable Reporting for SAP solution template. During the public preview, the solution template is for evaluation purposes only and is not intended for production use.",
                "templateName": "Accounts Receivable Reporting for SAP"
            },
            {
                "name": "$SiteCommon$/pagesgallery/sap.html",
                "displayname": "SAP"
            },
            {
                "name": "$SiteCommon$/pagesgallery/sql-server.html",
                "displayname": "Target",
                "checkSqlVersion": true,
                "useImpersonation": true,
                "title": "Connect to your SQL database",
                "subtitle": "Set up a connection to your target database so we can transfer your data.",
                "onNext": [
                    {
                        "name": "Microsoft-CredentialManagerWrite",
                        "CredentialTarget": "$('pbi_sccm', isSaved=true)",
                        "CredentialUsername": "$(this.username, isSaved=true)",
                        "CredentialPassword": "$(this.password, isSaved=true)",
                        "useImpersonation": true
                    }
                ]
            },
            {
                "name": "$SiteCommon$/pagesgallery/progress.html",
                "displayname": "Progress",
                "finishedActionName": "Microsoft-GetTaskStatus",
                "targetSchema": "pbist_sccm",
                "filename": "$('SAPARTemplate.pbix', isSaved=true)"
            }
        ]
    },
    "Uninstall": {
        "Pages": [
            {
                "name": "$SiteCommon$/pagesgallery/uninstall.html",
                "displayname": "Uninstall",
                "architectureDiagram": "dist/Apps/Microsoft/Released/Microsoft-SCCMTemplate/Web/Images/SCCMArchitectureDiagram.png",
                "templateName": "System Center Configuration Manager",
                "isDownload": "$(!this.MS.HttpService.isOnPremise)",
                "uninstallList": [
                    "The task used to move data between the SCCM database and the target database",
                    "The scripts used to create the initial tables in the target database"
                ],
                "showBack": "$(false)"
            },
            {
                "name": "$SiteCommon$/pagesgallery/progress.html",
                "displayname": "Uninstall Progress",
                "successMessage": "Uninstall complete",
                "isUninstall": true
            }
        ],
        "Actions": [
            {
                "name": "Microsoft-RemoveTask",
                "displayname": "Remove task",
                "TaskName": "Power BI Solution Template - SCCM"
            },
            {
                "name": "Microsoft-RemoveFiles",
                "displayname": "Remove files"
            },
            {
                "name": "Microsoft-RemoveFiles",
                "displayname": "Finishing cleanup",
                "TargetPath": "Apps\\Microsoft\\Released\\Microsoft-SCCMTemplate\\Temp"
            }
        ]
    }
}