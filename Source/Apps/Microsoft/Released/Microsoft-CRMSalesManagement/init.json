{
    "Install": {
        "Actions": [
            {
                "name": "Microsoft-DeploySQLScripts",
                "displayname": "Deploy DB Scripts",
                "SqlServerIndex": "0",
                "SqlScriptsFolder": "Database"
            },
            {
                "displayname": "Configure Azure Key Vault",
                "name": "Microsoft-CrmCreateVaultSecret"
            },
            {
                "displayname": "Cleaning CRM Environment",
                "name": "Microsoft-CrmDeleteProfile"
            },
            {
                "displayname": "Validating CRM Profile",
                "name": "Microsoft-CrmValidateProfile"
            },
            {
                "displayname": "Creating CRM Profile",
                "name": "Microsoft-CrmCreateProfile"
            },
            {
                "displayname": "Starting CRM Profile",
                "name": "Microsoft-CrmStartProfile"
            },
            {
                "name": "Microsoft-GetDataPullStatus",
                "displayname": "Checking data exists in target",
                "SqlServerIndex": 0,
                "TargetSchema": "dbo",
                "IsWaiting": true,
                "FinishedActionName": "Microsoft-CrmGetProfileStatus"
            }
        ],
        "Pages": [
            {
                "architectureDiagram": "dist/Apps/Microsoft/Released/Microsoft-CRMSalesManagement/Web/Images/crm-sales-management.png",
                "displayname": "Getting Started",
                "list1": [
                    "Full cloud solution with minimum set up and maintenance considerations",
                    "Data pulled from Dynamics CRM into an Azure SQL Database using the Dynamics CRM Export Service",
                    "Connect to Azure SQL and import data into Power BI"
                ],
                "name": "$SiteCommon$/pagesgallery/getting-started.html",
                "templateName": "Sales Management for Dynamics CRM"
            },
            {
                "displayname": "Login",
                "name": "$SiteCommon$/pagesgallery/azure-login.html",
                "oauthType": "keyvault",
                "pricingCost": "By deploying the template you authorize the creation of Azure resources on your subscription. On top of the database, the Key Vault adds an extra $1 per month. The cost will vary with the amount of data that will be moved.",
                "pricingUrl": "https://azure.microsoft.com/en-us/pricing/details/sql-database"
            },
            {
                "name": "$SiteCommon$/pagesgallery/sql-server.html",
                "displayname": "Target",
                "isAzureSql": true,
                "newSqlDatabase": "$(this.MS.UtilityService.GetUniqueId(10))",
                "showAzureSql": true,
                "showNewSqlOption": true,
                "sqlInstance": "NewSql",
                "subtitle": "Set up a connection to SQL so we can bring in your Dynamics CRM data.",
                "title": "Connect to your SQL Database"
            },
            {
                "displayname": "Dynamics CRM Login",
                "entities": "account,businessunit,lead,opportunity,opportunityproduct,product,systemuser,systemusermanagermap,territory",
                "name": "$SiteCommon$/pagesgallery/mscrm-login.html",
                "oauthType": "mscrm"
            },
            {
                "displayname": "Progress",
                "name": "$SiteCommon$/pagesgallery/progress.html"
            }
        ]
    },
    "Uninstall": {
        "Pages": [],
        "Actions": []
    }
}